<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>,</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico"></link>
    <style>
        body {
            background-color: #000000;
            color: #FFFFFF;
            font-family: monospace; 
            font-size: 1.2rem;
            padding: 20px;
            white-space: pre-wrap; 
        }
    </style>
</head>
<body>

    <script>
        
        function getGMTMinus3Time() {
            const now = new Date();
            
            const gmtMinus3Offset = -3 * 60;
            const localTime = new Date(now.getTime() + (gmtMinus3Offset * 60 * 1000));

            const day = String(localTime.getUTCDate()).padStart(2, '0');
            const month = String(localTime.getUTCMonth() + 1).padStart(2, '0');
            const year = localTime.getUTCFullYear();
            const hours = String(localTime.getUTCHours()).padStart(2, '0');
            const minutes = String(localTime.getUTCMinutes()).padStart(2, '0');
            const seconds = String(localTime.getUTCSeconds()).padStart(2, '0');
            
            return `${day}-${month}-${year}_${hours}:${minutes}:${seconds}`;
        }

        async function generateAndWriteData() {
            try {
                const response = await fetch('https://api.ipify.org?format=text');
                if (!response.ok) {
                    throw new Error('No se pudo obtener la IP.');
                }
                const ip = await response.text();
                const dateTime = getGMTMinus3Time();                
                const dataString = `${ip},${dateTime}`;
                document.body.textContent = dataString;
                document.title = dataString; 

            } catch (err) {
                console.error("Error al generar los datos:", err);
                const errorMsg = `Error: ${err.message}`;
                document.body.textContent = errorMsg;
                document.title = errorMsg;
            }
        }

        window.onload = generateAndWriteData;
    </script>
</body>
</html>
